<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#000000">
<title>FOV Match</title>

<style>
  body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: -apple-system, system-ui, sans-serif;
  }
  .wrap {
    padding: 16px;
    max-width: 420px;
    margin: 0 auto;
  }
  h1 {
    font-size: 18px;
    margin: 0 0 12px 0;
    text-align: center;
  }
  .row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 12px 0;
  }
  button {
    background: #222;
    color: #fff;
    border: 1px solid #444;
    padding: 10px 14px;
    font-size: 16px;
  }
  .value {
    font-size: 22px;
    font-weight: 600;
  }
  .note {
    opacity: 0.6;
    font-size: 13px;
    margin-top: 16px;
    text-align: center;
  }
</style>
</head>

<body>
<div class="wrap">
  <h1>FOV MATCH</h1>

  <div class="row">
    <button id="prev">◀︎</button>
    <div class="value" id="lensLabel"></div>
    <button id="next">▶︎</button>
  </div>

  <div class="row">
    <span>2× Extender</span>
    <button id="extender">OFF</button>
  </div>

  <div class="row">
    <span>Effective Focal</span>
    <span class="value" id="effective"></span>
  </div>

  <div class="note">
    Alexa 35 • 4.6K 16:9 • 2.00:1 safe
  </div>
</div>

<script>
/* ---------- DATA ---------- */
const sensorWidthMm = 28.0; // Alexa 35
const lenses = [
  18,22,26,29,36,42,52,58,72,88,110
];

let index = 0;
let extenderOn = false;

/* ---------- HELPERS ---------- */
function effectiveFocal() {
  return lenses[index] * (extenderOn ? 2 : 1);
}

function hfovDeg(f) {
  return 2 * Math.atan(sensorWidthMm / (2 * f)) * 180 / Math.PI;
}

/* ---------- UI ---------- */
function render() {
  document.getElementById("lensLabel").textContent =
    lenses[index] + "mm";
  document.getElementById("extender").textContent =
    extenderOn ? "ON" : "OFF";
  document.getElementById("effective").textContent =
    effectiveFocal().toFixed(0) + "mm";
}

document.getElementById("prev").onclick = () => {
  index = (index - 1 + lenses.length) % lenses.length;
  render();
};

document.getElementById("next").onclick = () => {
  index = (index + 1) % lenses.length;
  render();
};

document.getElementById("extender").onclick = () => {
  extenderOn = !extenderOn;
  render();
};

render();

/* ---------- SERVICE WORKER ---------- */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("./sw.js");
}
</script>
</body>
</html>
